// track.js
var TRACKS = [
  {
    name: "Shanghai Circuit",
    bgImage: "track/china-2.png",
    start: { x: 1961, y:1712 },  // 圈數檢測線
    playerStart: { x: 1949, y: 2157, angle: -Math.PI/2 },
    gridPositions: [  // 11個AI車起跑位（可自訂）
      {x:1949, y:1787}, {x:1981, y:1807}, {x:1949, y:1861}, {x:1981, y:1885},
      {x:1949, y:1935}, {x:1981, y:1960}, {x:1949, y:2009}, {x:1981, y:2038},
      {x:1949, y:2083}, {x:1981, y:2108}, {x:1949, y:2157}
    ],
    waypoints: [
     {x:1961,y:705},{x:2140,y:417}, {x:2399,y:265}, {x:2695,y:258}, {x:2854,y:440}, 
     {x:2793,y:622}, {x:2596,y:614}, {x:2429,y:690}, {x:2528,y:819}, {x:2778,y:834},
     {x:2930,y:774},{x:3841,y:159}, {x:4031,y:144}, {x:5238,y:204}, {x:5284,y:326}, 
     {x:5200,y:417}, {x:5018,y:553}, {x:3659,y:660}, {x:3469,y:796}, {x:3295,y:1016}, 
     {x:3257,y:1305},{x:3310,y:1540}, {x:3545,y:1775}, {x:3780,y:2003}, {x:3818,y:2322}, 
     {x:2953,y:3156},{x:3014,y:3331}, {x:3165,y:3452}, {x:3363,y:3422}, {x:5891,y:2610}, 
     {x:5967,y:2504},{x:5800,y:2314}, {x:5914,y:2048}, {x:6157,y:2041}, {x:6362,y:2155}, 
     {x:6491,y:2382},{x:6483,y:2686}, {x:6293,y:2906}, {x:417,y:5091}, {x:280,y:5008}, 
     {x:364,y:4849},{x:660,y:4636}, {x:1890,y:4166}, {x:1936,y:4021}, {x:1961,y:1904}
    ],
    originalWidth: 7000,
    originalHeight: 5312
  },
  {
    name: "Le Mans Circuit",
    bgImage: "track/Le_Mans_Circuit.png",
    start: { x:305, y:1876 },  // 圈數檢測線
    playerStart: { x: 327, y: 2376, angle: -Math.PI/2 },
    gridPositions: [  // 11個AI車起跑位（可自訂）
      {x:327, y:1951}, {x:282, y:1994}, {x:327, y:2036}, {x:282, y:2079},
      {x:327, y:2121}, {x:282, y:2164}, {x:327, y:2206}, {x:282, y:2249},
      {x:327, y:2291}, {x:282, y:2334}, {x:327, y:2376}
    ],
    waypoints: [
	{x:305, y:1360}, {x:330, y:1190}, {x:419, y:1104}, {x:546, y:1140}, {x:620, y:1218},
	{x:656, y:1800}, {x:705, y:1868}, {x:763, y:1842}, {x:1561, y:1060}, {x:1691, y:1000},
	{x:1751, y:880}, {x:2162, y:680}, {x:2242, y:420}, {x:2622, y:140}, {x:2772, y:120},
	{x:2979, y:235}, {x:4881, y:5251}, {x:5034, y:6770}, {x:5034, y:6900}, {x:4854, y:6890},
	{x:4063, y:6690}, {x:3283, y:6330}, {x:2772, y:5930}, {x:2702, y:5730}, {x:2362, y:5870},
	{x:1611, y:4380}, {x:1481, y:4260}, {x:1351, y:4250}, {x:1171, y:4390}, {x:1030, y:4440},
	{x:910, y:4330}, {x:770, y:3960}, {x:300, y:3640}, {x:305, y:1960}
    ],
    originalWidth: 5165,
    originalHeight: 7000
  },
  {
    name: "Suzuka Circuit",
    bgImage: "track/suzuka-6svg.png",                 // 你儲存為 suzuka.png
    start: { x: 540, y: 1977 },            // 圈數檢測線（過主直道起點）
    playerStart: { x:560, y:2290, angle: -Math.PI/2 },  // 玩家起跑位（最尾）
    gridPositions: [                       // 11 個起跑位（由前到後）
      {x:560, y:2052},  {x:525, y:2080},
      {x:560, y:2098},  {x:525, y:2125},
      {x:560, y:2143}, {x:525, y:2169},
      {x:560, y:2192}, {x:525, y:2220},
      {x:560, y:2240}, {x:525, y:2266},
      {x:560, y:2290}                     // 玩家位置（第11位）
    ],
    waypoints: [
    {x:540, y:2052},{x:540, y:1800}, {x:540, y:1500},  {x:540, y:1200},
  {x:540, y:1000}, {x:520, y:840},{x:601, y:640},{x:731, y:530},{x:921, y:480},{x:1081, y:540},
	{x:1132, y:670},{x:1112, y:980},{x:1112, y:1290},{x:1222, y:1420},{x:1302, y:1530},
	{x:1302, y:1680},{x:1222, y:1910},{x:1202, y:2060},{x:1362, y:2240},{x:1502, y:2371},
	{x:1502, y:2541},{x:1412, y:2631},{x:1112, y:2821},{x:1041, y:3021},{x:1122, y:3201},
	{x:1272, y:3391},{x:1552, y:3521},{x:1853, y:3561},{x:2264, y:3491},{x:2524, y:3451},
	{x:2795, y:3541},{x:2975, y:3701},{x:3015, y:3821},{x:2965, y:3951},{x:2574, y:4541},
	{x:2234, y:4742},{x:2053, y:4832},{x:2133, y:4922},{x:2314, y:4912},{x:2815, y:4802},
	{x:3185, y:4832},{x:3386, y:4952},{x:3746, y:5512},{x:3786, y:5772},{x:3726, y:5982},
	{x:3596, y:6382},{x:3826, y:6602},{x:4067, y:6622},{x:4207, y:6492},{x:4237, y:6312},
	{x:4107, y:5892},{x:3877, y:5402},{x:3566, y:5022},{x:2955, y:4151},{x:2704, y:3861},
	{x:2333, y:3741},{x:1813, y:3741},{x:1362, y:3781},{x:1202, y:3621},{x:951, y:3571},
	{x:711, y:3431},{x:561, y:2981},{x:540, y:2421}             // 回到起點線
    ],
    originalWidth: 4939,    // 請量度你圖片實際像素寬度
    originalHeight: 7003    // 請量度你圖片實際像素高度
  },
  {
    name: "Brazil Interlagos Circuit",
    bgImage: "track/Interlagos.png",                 // 你儲存為 suzuka.png
    start: { x: 5131, y: 2912 },            // 圈數檢測線（過主直道起點）
    playerStart: { x:5144, y:3252, angle: -Math.PI/2 },  // 玩家起跑位（最尾）
    gridPositions: [                       // 11 個起跑位（由前到後）
      {x:5144, y:3002},  {x:5109, y:3036},
      {x:5144, y:3052},  {x:5109, y:3086},
      {x:5144, y:3102}, {x:5109, y:3136},
      {x:5144, y:3152}, {x:5109, y:3186},
      {x:5144, y:3202}, {x:5109, y:3236},
      {x:5144, y:3252}                     // 玩家位置（第11位）
    ],
    waypoints: [
	{x:5137, y:2931}, {x:5155, y:1066}, {x:5042, y:735}, {x:4937, y:645}, 
	{x:4757, y:630}, {x:4478, y:773}, {x:4358, y:803}, {x:4215, y:728}, 
	{x:4004, y:517}, {x:3794, y:352}, {x:3546, y:269}, {x:3290, y:231}, 
	{x:3049, y:269}, {x:2899, y:344}, {x:2688, y:457}, {x:2530, y:652}, 
	{x:454, y:3901}, {x:417, y:4037}, {x:417, y:4187}, {x:507, y:4307}, 
	{x:1364, y:4751}, {x:1612, y:4751}, {x:1876, y:4653}, {x:3568, y:3518}, 
	{x:3741, y:3405}, {x:3929, y:3367}, {x:4140, y:3390}, {x:4621, y:3751}, 
	{x:4666, y:3901}, {x:4621, y:4646}, {x:4584, y:4789}, {x:4471, y:4901}, 
	{x:4358, y:4901}, {x:4223, y:4804}, {x:4110, y:4691}, {x:4065, y:4593}, 
	{x:3982, y:4541}, {x:3884, y:4525}, {x:3771, y:4533}, {x:3658, y:4578}, 
	{x:3591, y:4676}, {x:3568, y:4796}, {x:3606, y:4939}, {x:3628, y:4984}, 
	{x:3884, y:5405}, {x:3929, y:5496}, {x:3959, y:5654}, {x:3944, y:6142}, 
	{x:3907, y:6218}, {x:3809, y:6263}, {x:3704, y:6248}, {x:3613, y:6157}, 
	{x:3305, y:5511}, {x:3154, y:5383}, {x:2966, y:5270}, {x:2756, y:5210}, 
	{x:2575, y:5180}, {x:2440, y:5240}, {x:1387, y:6030}, {x:1372, y:6157}, 
	{x:1432, y:6285}, {x:1974, y:6699}, {x:2199, y:6789}, {x:2523, y:6827}, 
	{x:3358, y:6819}, {x:3801, y:6684}, {x:4080, y:6436}, {x:4975, y:4947}, 
	{x:5073, y:4683}, {x:5125, y:4420}, {x:5133, y:2984}             // 回到起點線
    ],
    originalWidth: 5867,    // 請量度你圖片實際像素寬度
    originalHeight: 7009    // 請量度你圖片實際像素高度
  }
];

// 一定要加這行！讓我們永遠有原始中心線可用
TRACKS.forEach(track => track._originalWaypoints = [...track.waypoints]);






